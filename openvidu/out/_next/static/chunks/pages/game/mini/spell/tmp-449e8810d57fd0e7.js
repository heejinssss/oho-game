(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{5973:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/mini/spell/tmp",function(){return t(4651)}])},4651:function(e,n,t){"use strict";t.r(n);var o=t(5893),l=t(7294),s=t(1649),a=t(6049),r=t.n(a),i=t(6154),c=t(8e3),p=t.n(c),d=t(4593);n.default=()=>{(0,s.I0)();let[e,n]=(0,l.useState)(!0),[t,a]=(0,l.useState)(""),[c,m]=(0,l.useState)([]),[u,_]=(0,l.useState)(""),h=(0,s.v9)(e=>e.room.currentRoomId),[x,f]=(0,l.useState)({}),j=()=>{if(""!==u.trim()){if(x.current){let e={word:u};console.log("inputValue",u),console.log("sendData",e),x.current.send("/mini/spell/confirm/".concat(h),{},JSON.stringify(e))}else alert("소켓이 연결되지 않았습니다.");m(e=>[...e,u]),_("")}},g=()=>{(0,i.Z)({url:"https://ohogame.shop/api/game/mini/spell",header:{Accept:"application/json","Content-type":"application/json;charset=UTF-8"},method:"POST",data:{id:h}}).then(e=>{let n=e.data;a(n.firstWord+n.secondWord)}).catch(e=>{e.response?router.push({pathname:"/exception",query:{msg:e.response.data}}):console.log(e)})},w=()=>{x.current=d.L.over(()=>{let e=new(p())("https://ohogame.shop/ws");return e})},C=()=>{x.current.connect({},()=>{x.current.subscribe("/topic/game/".concat(h),e=>{var n=JSON.parse(e.body);console.log(n),console.log("틀렸or맞았",n.correct)})})};return(0,l.useEffect)(()=>{w(),C(),g();let e=setTimeout(()=>{n(!1)},1e3);return()=>{clearTimeout(e)}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(()=>e?(document.body.style.overflow="hidden",(0,o.jsx)("div",{className:r().modalContainer,children:(0,o.jsxs)("div",{className:r().modalContent,children:[(0,o.jsx)("p",{children:"10초 안에 제시된 초성과 일치하는 단어를 입력하세요."}),(0,o.jsx)("p",{children:"*세종대왕님이 보고 계십니다*"}),(0,o.jsx)("p",{children:"*사전에 등재된 단어만 입력해주세요.*"}),(0,o.jsxs)("h4",{children:["제시된 초성: ",t]})]})})):(document.body.style.overflow="initial",null),{}),(0,o.jsxs)("div",{className:r().wrapper,children:[(0,o.jsxs)("div",{className:r().text,children:[(0,o.jsx)("h1",{children:"초성 게임"}),(0,o.jsxs)("label",{children:["단어를 입력하세요:",(0,o.jsx)("input",{type:"text",value:u,onChange:e=>{_(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&j()}})]}),(0,o.jsx)("button",{type:"button",onClick:j,children:"제출"})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:r().redBlock,children:[(0,o.jsx)("img",{src:"/세종대왕_기본.png",style:{position:"absolute",left:"125px",width:"350px",marginTop:"-350px"}}),(0,o.jsx)("div",{className:r().miniBlock1}),(0,o.jsx)("div",{className:r().miniBlock2}),(0,o.jsxs)("h3",{style:{position:"absolute",backgroundColor:"Yellow",left:"250px",zIndex:"1"},children:["초성: ",t]}),(0,o.jsx)("img",{src:"/두루마리.png",style:{position:"absolute",width:"700px",left:"-50px",marginBottom:"-200px",zIndex:"0"}}),(0,o.jsx)("div",{className:r().wordsContainer,children:c.map((e,n)=>(0,o.jsx)("div",{className:r().word,style:{position:"absolute",marginLeft:"100px",marginTop:"250px",left:"".concat(n%7*50,"px"),top:"".concat(30*Math.floor(n/7),"px")},children:e},n))})]})]})]})}},6049:function(e){e.exports={wrapper:"SpellGame_wrapper__MIls_",upperContainer:"SpellGame_upperContainer__r5ZXB",inputContainer:"SpellGame_inputContainer__tYT5x",redBlock:"SpellGame_redBlock__0tDAq",miniBlock1:"SpellGame_miniBlock1__YvVqj",miniBlock2:"SpellGame_miniBlock2__tDl_z",modalContainer:"SpellGame_modalContainer__cTsAY",modalContent:"SpellGame_modalContent__oIJCC",fadeIn:"SpellGame_fadeIn__821fj"}}},function(e){e.O(0,[0,154,593,774,888,179],function(){return e(e.s=5973)}),_N_E=e.O()}]);