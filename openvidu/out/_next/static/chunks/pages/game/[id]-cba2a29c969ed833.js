(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{99:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[id]",function(){return t(6061)}])},1674:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var a=t(5893),s=t(7294),i=t(5351),c=t.n(i);function o(e){let{pin:n,cellObj:t}=e,i=(0,s.useRef)(null),[o,r]=(0,s.useState)({top:0,left:0}),l={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,twentyone:21,twentytwo:22,twentythree:23,twentyfour:24};for(let e in l)"E"===t[e]?t[e]="#454545":"G"===t[e]?t[e]="#FFE6C7":"B"===t[e]?t[e]="#FF6000":"P"===t[e]?t[e]="#FFFFFF":"M"===t[e]&&(t[e]="#FFA559");return(0,s.useEffect)(()=>{let e=i.current;if(e){let n=e.getBoundingClientRect();r({top:n.top-80,left:n.left-40})}},[n]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:c().board,children:(0,a.jsxs)("div",{className:c().board_wrapper,children:[(0,a.jsx)("div",{style:{backgroundColor:"black"},children:18==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.eighteen)},children:17==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.seventeen)},children:16==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.sixteen)},children:15==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.fifteen)},children:14==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.fourteen)},children:13==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"black"},children:12==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.twenty)},children:19==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.twelve)},children:11==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.twentyone)},children:20==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.eleven)},children:10==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.twentytwo)},children:21==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.ten)},children:9==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.twentythree)},children:22==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.nine)},children:8==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.twentyfour)},children:23==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{className:"".concat(c().invisible)}),(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.eight)},children:7==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"black"},children:0==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.two)},children:1==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.three)},children:2==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.four)},children:3==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.five)},children:4==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"".concat(t.six)},children:5==n?(0,a.jsx)("div",{ref:i}):null})," ",(0,a.jsx)("div",{style:{backgroundColor:"black"},children:6==n?(0,a.jsx)("div",{ref:i}):null})," "]})}),(0,a.jsx)("img",{src:"/character.png",style:{width:"100px",position:"absolute",transition:"top 0.3s ease, left 0.3s ease",...o}})]})}},84:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var a=t(5893);t(7294);var s=t(4688),i=t.n(s);function c(e){let{face:n,diceWidth:t}=e,s=t/8;return(0,a.jsx)("div",{className:i().customDice,children:(0,a.jsx)("div",{className:i().dice_inner,children:(0,a.jsxs)("div",{className:i()["dice_face".concat(n)],children:[" ",(0,a.jsx)("div",{className:i().face1,style:{transform:"rotateY(0deg) translateZ(".concat(s,"px)")},children:(0,a.jsx)("img",{src:"/1.png"})}),(0,a.jsx)("div",{className:i().face2,style:{transform:"rotateY(90deg) translateZ(".concat(s,"px)")},children:(0,a.jsx)("img",{src:"/2.png"})}),(0,a.jsx)("div",{className:i().face3,style:{transform:"rotateX(90deg) translateZ(".concat(s,"px)")},children:(0,a.jsx)("img",{src:"/3.png"})}),(0,a.jsx)("div",{className:i().face4,style:{transform:"rotateX(270deg) translateZ(".concat(s,"px)")},children:(0,a.jsx)("img",{src:"/4.png"})}),(0,a.jsx)("div",{className:i().face5,style:{transform:"rotateY(270deg) translateZ(".concat(s,"px)")},children:(0,a.jsx)("img",{src:"/5.png"})}),(0,a.jsx)("div",{className:i().face6,style:{transform:"rotateY(180deg) translateZ(".concat(s,"px)")},children:(0,a.jsx)("img",{src:"/6.png"})})]})})})}},7272:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return r}});var a=t(5893),s=t(7294),i=t(84),c=t(9843),o=t.n(c);function r(e){let{dice:n}=e,[t,c]=(0,s.useState)(0),r=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=()=>{r.current&&(c(r.current.clientWidth),console.log(t))};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[t]),(0,a.jsx)("section",{className:o().diceBox,ref:r,children:(0,a.jsx)("div",{className:o().dice_wrap,children:(0,a.jsx)(i.default,{face:n,diceWidth:t})})})}},6061:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var a=t(2729),s=t(5893),i=t(7294),c=t(1163),o=t(7272),r=t(1674),l=t(9197),d=t.n(l),u=t(508),v=t(8e3),m=t.n(v),_=t(4593),f=t(6154),x=t(1649);t(4905);var j=t(6788);function h(){let e=(0,a._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8); /* Apply the opacity here */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  "]);return h=function(){return e},e}function g(){let e=(0,a._)(["\n  background-color: white;\n  padding: 70px;\n  /* transition: visibility 0.5s ease-out; */\n  border-radius: 20px;\n  "]);return g=function(){return e},e}let p=u.zo.div(h()),b=u.zo.div(g());function y(){let e=(0,c.useRouter)();(0,x.v9)(e=>e.player.currentPlayerId);let n=(0,x.v9)(e=>e.room.currentRoomId),t=(0,x.v9)(e=>e.room.currentIncludeMini),[a,l]=(0,i.useState)(0),[u,v]=(0,i.useState)(0),[h,g]=(0,i.useState)(0),[y,N]=(0,i.useState)({}),[w,k]=(0,i.useState)(""),[C,R]=(0,i.useState)(!1),[P,D]=(0,i.useState)({}),E=async()=>{(0,f.Z)({url:"https://ohogame.shop/api/game/start",header:{Accept:"application/json","Content-type":"application/json;charset=UTF-8"},method:"POST",data:{id:n,includeMini:t}}).then(e=>{D({one:e.data[0].status,two:e.data[1].status,three:e.data[2].status,four:e.data[3].status,five:e.data[4].status,six:e.data[5].status,seven:e.data[6].status,eight:e.data[7].status,nine:e.data[8].status,ten:e.data[9].status,eleven:e.data[10].status,twelve:e.data[11].status,thirteen:e.data[12].status,fourteen:e.data[13].status,fifteen:e.data[14].status,sixteen:e.data[15].status,seventeen:e.data[16].status,eighteen:e.data[17].status,nineteen:e.data[18].status,twenty:e.data[19].status,twentyone:e.data[20].status,twentytwo:e.data[21].status,twentythree:e.data[22].status,twentyfour:e.data[23].status}),console.log("RoomId",n),console.log("Cell Data",e.data)}).catch(n=>{n.response?e.push({pathname:"/exception",query:{msg:n.response.data}}):console.log(n)})},F=()=>{y.current=_.L.over(()=>{let e=new(m())("https://ohogame.shop/ws");return e}),y.current.debug=()=>{}},S=()=>{y.current.connect({},()=>{y.current.subscribe("/topic/move/".concat(n),e=>{let n=JSON.parse(e.body),t=n.cell.name;l(n.game.dice),v(n.game.pin),g(n.game.lab),k(n.cell.name),"두더지 게임"==t&&(window.location.href="https://ohogame.shop/game/mini/mole"),"훈민정음"==t&&(window.location.href="https://ohogame.shop/game/mini/spell"),"라이어 게임"==t&&(window.location.href="https://ohogame.shop/game/mini/liar")})})};(0,i.useEffect)(()=>{E(),F(),S()},[]);let B=()=>{setTimeout(()=>{R(!0)},1e3),setTimeout(()=>{R(!1)},2500)};return(0,s.jsxs)("div",{className:d().container,children:[(0,s.jsx)("nav",{className:d().infobar,children:(0,s.jsxs)("h5",{children:["주사위 눈 : ",a,", 현재 ",u,"번 블록에 위치, ",h,"바퀴"]})}),(0,s.jsx)("button",{className:d().btnRolling,value:"innerHTML",onClick:()=>{y.current.send("/move/"+n,{},JSON.stringify({dice:a,pin:u,lab:h})),B()},children:"주사위 굴리기"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:d().camList,children:(0,s.jsx)(j.default,{})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.default,{dice:a}),(0,s.jsx)(r.default,{pin:u,cellObj:P})]})]}),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(e=>{let{currentCell:n,pin:t}=e;return(0,i.useEffect)(()=>{C?document.body.style.overflow="hidden":document.body.style.overflow="initial"},[C]),(0,s.jsx)(s.Fragment,{children:C&&(0,s.jsx)(p,{id:"modalContainer",children:(0,s.jsx)(b,{className:d().modalContent,style:{zIndex:"1"},children:(0,s.jsx)("p",{children:n})})})})},{currentCell:w,pin:u})})]})}},7337:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var a=t(5893),s=t(7294);function i(e){let n=e.streamManager,t=(0,s.useRef)(null);return navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{t.current.srcObject=e}).catch(e=>{e.response?router.push({pathname:"/exception",query:{msg:e.response.data}}):console.log(e)}),(0,s.useEffect)(()=>{n&&!t&&n.addVideoElement(t.current)},[t]),(0,a.jsx)("span",{children:(0,a.jsx)("video",{autoPlay:!0,ref:t})})}},6788:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var a=t(5893);t(7294);var s=t(7337),i=t(1649),c=t(9255),o=t.n(c),r=t(4533),l=t.n(r);function d(){let e=(0,i.v9)(e=>e.room.currentRoomId),n=(0,i.v9)(e=>e.player.currentNick),t=(0,i.v9)(e=>e.openvidu.publisher),c=(0,i.v9)(e=>e.openvidu.participants);return console.log("룸캠"),console.log(t),console.log(c),(0,a.jsx)("div",{className:"container",children:void 0!==e?(0,a.jsx)("div",{id:"session",children:(0,a.jsxs)("div",{id:"video-container",className:o().camList,children:[void 0!==t?(0,a.jsxs)("span",{className:l().streamcomponent,children:[(0,a.jsx)(s.default,{className:o().cam,streamManager:t}),(0,a.jsx)("div",{className:l().nickname,children:n})]}):null,null!=c?c.map((e,n)=>(0,a.jsxs)("span",{className:l().streamcomponent,children:[(0,a.jsx)(s.default,{className:o().cam,streamManager:e}),console.log(e.nick),(0,a.jsx)("div",{className:l().nickname,children:e.nick})]},e.id)):null]})}):null})}},5351:function(e){e.exports={board:"BoardMap_board__KIyts",board_wrapper:"BoardMap_board_wrapper__3q8Ho",invisible:"BoardMap_invisible__Cfm6Z"}},4688:function(e){e.exports={customDice:"Dice_customDice__gj9Tc",dice_inner:"Dice_dice_inner__OeDHS",dice_face1:"Dice_dice_face1__TvWDk",dice_face2:"Dice_dice_face2__SjW3F",dice_face3:"Dice_dice_face3__Yh0_U",dice_face4:"Dice_dice_face4__43q9G",dice_face5:"Dice_dice_face5__rGl3u",dice_face6:"Dice_dice_face6__HLpGp",face1:"Dice_face1__KzjiB",face2:"Dice_face2__BozPt",face3:"Dice_face3__RRqja",face4:"Dice_face4__kWB3_",face5:"Dice_face5__5u6_j",face6:"Dice_face6__dJClk"}},9843:function(e){e.exports={diceBox:"DiceBox_diceBox__yyYrV",btnRolling:"DiceBox_btnRolling__oxgic"}},9197:function(e){e.exports={container:"GamePage_container__IujHP",upper_container:"GamePage_upper_container__PxaSC",lower_container:"GamePage_lower_container__HigR6",infobar:"GamePage_infobar__TXuT0",cam:"GamePage_cam__C0ix3",btnRolling:"GamePage_btnRolling__GNSZN"}},9255:function(e){e.exports={container:"RoomPage_container__nrifP",room:"RoomPage_room__jZJqd",camList:"RoomPage_camList__pr94X",cam:"RoomPage_cam__bKlCM",chatContainer:"RoomPage_chatContainer__Hlg7I",outerChat:"RoomPage_outerChat__j4Ee0",innerChat:"RoomPage_innerChat__ZniE2",chatUnit:"RoomPage_chatUnit__9sfcL",sender:"RoomPage_sender__9HCU2",time:"RoomPage_time__4KvWW",message:"RoomPage_message__3J_1w",chatArea:"RoomPage_chatArea__njIvi",chatInput:"RoomPage_chatInput__xkHum",sendBtn:"RoomPage_sendBtn__836RZ"}},4533:function(e){e.exports={streamcomponent:"UserVideo_streamcomponent__72vDQ",nickname:"UserVideo_nickname__IX3Tw"}}},function(e){e.O(0,[0,154,593,894,905,774,888,179],function(){return e(e.s=99)}),_N_E=e.O()}]);