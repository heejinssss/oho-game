(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{99:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[id]",function(){return n(6061)}])},1674:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(5893),a=n(7294),i=n(5351),c=n.n(i);function l(e){let{pin:t,cellObj:n}=e,i=(0,a.useRef)(null),[l,o]=(0,a.useState)({top:0,left:0}),r={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,twentyone:21,twentytwo:22,twentythree:23,twentyfour:24};for(let e in r)"E"===n[e]?n[e]="#454545":"G"===n[e]?n[e]="#FFE6C7":"B"===n[e]?n[e]="#FF6000":"P"===n[e]?n[e]="#FFFFFF":"M"===n[e]&&(n[e]="#FFA559");return(0,a.useEffect)(()=>{let e=i.current;if(e){let t=e.getBoundingClientRect();o({top:t.top-80,left:t.left-40})}},[t]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:c().board,children:(0,s.jsxs)("div",{className:c().board_wrapper,children:[(0,s.jsx)("div",{style:{backgroundColor:"black"},children:18==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.eighteen)},children:17==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.seventeen)},children:16==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.sixteen)},children:15==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.fifteen)},children:14==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.fourteen)},children:13==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"black"},children:12==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.twenty)},children:19==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.twelve)},children:11==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.twentyone)},children:20==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.eleven)},children:10==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.twentytwo)},children:21==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.ten)},children:9==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.twentythree)},children:22==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.nine)},children:8==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.twentyfour)},children:23==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{className:"".concat(c().invisible)}),(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.eight)},children:7==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"black"},children:0==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.two)},children:1==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.three)},children:2==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.four)},children:3==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.five)},children:4==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"".concat(n.six)},children:5==t?(0,s.jsx)("div",{ref:i}):null})," ",(0,s.jsx)("div",{style:{backgroundColor:"black"},children:6==t?(0,s.jsx)("div",{ref:i}):null})," "]})}),(0,s.jsx)("img",{src:"/character.png",style:{width:"100px",position:"absolute",transition:"top 0.3s ease, left 0.3s ease",...l}})]})}},84:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(5893);n(7294);var a=n(4688),i=n.n(a);function c(e){let{face:t,diceWidth:n}=e,a=n/8;return(0,s.jsx)("div",{className:i().customDice,children:(0,s.jsx)("div",{className:i().dice_inner,children:(0,s.jsxs)("div",{className:i()["dice_face".concat(t)],children:[" ",(0,s.jsx)("div",{className:i().face1,style:{transform:"rotateY(0deg) translateZ(".concat(a,"px)")},children:(0,s.jsx)("img",{src:"/1.png"})}),(0,s.jsx)("div",{className:i().face2,style:{transform:"rotateY(90deg) translateZ(".concat(a,"px)")},children:(0,s.jsx)("img",{src:"/2.png"})}),(0,s.jsx)("div",{className:i().face3,style:{transform:"rotateX(90deg) translateZ(".concat(a,"px)")},children:(0,s.jsx)("img",{src:"/3.png"})}),(0,s.jsx)("div",{className:i().face4,style:{transform:"rotateX(270deg) translateZ(".concat(a,"px)")},children:(0,s.jsx)("img",{src:"/4.png"})}),(0,s.jsx)("div",{className:i().face5,style:{transform:"rotateY(270deg) translateZ(".concat(a,"px)")},children:(0,s.jsx)("img",{src:"/5.png"})}),(0,s.jsx)("div",{className:i().face6,style:{transform:"rotateY(180deg) translateZ(".concat(a,"px)")},children:(0,s.jsx)("img",{src:"/6.png"})})]})})})}},7272:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(5893),a=n(7294),i=n(84),c=n(9843),l=n.n(c);function o(e){let{dice:t}=e,[n,c]=(0,a.useState)(0),o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=()=>{o.current&&(c(o.current.clientWidth),console.log(n))};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[n]),(0,s.jsx)("section",{className:l().diceBox,ref:o,children:(0,s.jsx)("div",{className:l().dice_wrap,children:(0,s.jsx)(i.default,{face:t,diceWidth:n})})})}},6061:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var s=n(2729),a=n(5893),i=n(7294),c=n(1163),l=n(7272),o=n(1674),r=n(9197),d=n.n(r),u=n(508),v=n(8e3),f=n.n(v),x=n(4593),j=n(6154),_=n(1649);function m(){let e=(0,s._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8); /* Apply the opacity here */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  "]);return m=function(){return e},e}function h(){let e=(0,s._)(["\n  background-color: white;\n  padding: 70px;\n  /* transition: visibility 0.5s ease-out; */\n  border-radius: 20px;\n  "]);return h=function(){return e},e}let g=u.zo.div(m()),b=u.zo.div(h());function p(){let e=(0,c.useRouter)(),t=(0,_.v9)(e=>e.room.currentRoomId),n=(0,_.v9)(e=>e.room.currentIncludeMini),[s,r]=(0,i.useState)(0),[u,v]=(0,i.useState)(0),[m,h]=(0,i.useState)(0),[p,y]=(0,i.useState)({}),[N,w]=(0,i.useState)(""),[C,k]=(0,i.useState)(!1),[D,R]=(0,i.useState)({}),E=(0,i.useRef)(null),F=()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{let t=E.current;t.srcObject=e,t.play()}).catch(e=>{console.log("WEBCAM ERROR")})};(0,i.useEffect)(()=>{F()},[E]);let S=async()=>{(0,j.Z)({url:"https://ohogame.shop/api/game/start",header:{Accept:"application/json","Content-type":"application/json;charset=UTF-8"},method:"POST",data:{id:t,includeMini:n}}).then(e=>{R({one:e.data[0].status,two:e.data[1].status,three:e.data[2].status,four:e.data[3].status,five:e.data[4].status,six:e.data[5].status,seven:e.data[6].status,eight:e.data[7].status,nine:e.data[8].status,ten:e.data[9].status,eleven:e.data[10].status,twelve:e.data[11].status,thirteen:e.data[12].status,fourteen:e.data[13].status,fifteen:e.data[14].status,sixteen:e.data[15].status,seventeen:e.data[16].status,eighteen:e.data[17].status,nineteen:e.data[18].status,twenty:e.data[19].status,twentyone:e.data[20].status,twentytwo:e.data[21].status,twentythree:e.data[22].status,twentyfour:e.data[23].status}),console.log("RoomId",t),console.log("Cell Data",e.data)}).catch(t=>{t.response?e.push({pathname:"/exception",query:{msg:t.response.data}}):console.log(t)})},B=()=>{p.current=x.L.over(()=>{let e=new(f())("https://ohogame.shop/ws");return e}),p.current.debug=()=>{}},P=()=>{p.current.connect({},()=>{p.current.subscribe("/topic/move/".concat(t),e=>{let t=JSON.parse(e.body),n=t.cell.name;r(t.game.dice),v(t.game.pin),h(t.game.lab),w(t.cell.name),"두더지 게임"==n&&(window.location.href="https://ohogame.shop/game/mini/mole"),"훈민정음"==n&&(window.location.href="https://ohogame.shop/game/mini/spell"),"라이어 게임"==n&&(window.location.href="https://ohogame.shop/game/mini/liar")})})};(0,i.useEffect)(()=>{S(),B(),P()},[]);let G=()=>{setTimeout(()=>{k(!0)},1e3),setTimeout(()=>{k(!1)},2500)};return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsx)("nav",{className:d().infobar,children:(0,a.jsxs)("h5",{children:["주사위 눈 : ",s,", 현재 ",u,"번 블록에 위치, ",m,"바퀴"]})}),(0,a.jsx)("button",{className:d().btnRolling,value:"innerHTML",onClick:()=>{p.current.send("/move/"+t,{},JSON.stringify({dice:s,pin:u,lab:m})),G()},children:"주사위 굴리기"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:d().upper_container,children:[(0,a.jsx)("video",{className:d().cam,style:{float:"left"},ref:E})," ",(0,a.jsx)("video",{className:d().cam,style:{float:"right"},ref:E})," "]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.default,{dice:s}),(0,a.jsx)(o.default,{pin:u,cellObj:D})]}),(0,a.jsxs)("div",{className:d().lower_container,children:[(0,a.jsx)("video",{className:d().cam,style:{float:"left"},ref:E})," ",(0,a.jsx)("video",{className:d().cam,style:{float:"right"},ref:E})," "]})]}),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e=>{let{currentCell:t,pin:n}=e;return(0,i.useEffect)(()=>{C?document.body.style.overflow="hidden":document.body.style.overflow="initial"},[C]),(0,a.jsx)(a.Fragment,{children:C&&(0,a.jsx)(g,{id:"modalContainer",children:(0,a.jsx)(b,{className:d().modalContent,style:{zIndex:"1"},children:(0,a.jsx)("p",{children:t})})})})},{currentCell:N,pin:u})})]})}},5351:function(e){e.exports={board:"BoardMap_board__KIyts",board_wrapper:"BoardMap_board_wrapper__3q8Ho",invisible:"BoardMap_invisible__Cfm6Z"}},4688:function(e){e.exports={customDice:"Dice_customDice__gj9Tc",dice_inner:"Dice_dice_inner__OeDHS",dice_face1:"Dice_dice_face1__TvWDk",dice_face2:"Dice_dice_face2__SjW3F",dice_face3:"Dice_dice_face3__Yh0_U",dice_face4:"Dice_dice_face4__43q9G",dice_face5:"Dice_dice_face5__rGl3u",dice_face6:"Dice_dice_face6__HLpGp",face1:"Dice_face1__KzjiB",face2:"Dice_face2__BozPt",face3:"Dice_face3__RRqja",face4:"Dice_face4__kWB3_",face5:"Dice_face5__5u6_j",face6:"Dice_face6__dJClk"}},9843:function(e){e.exports={diceBox:"DiceBox_diceBox__yyYrV",btnRolling:"DiceBox_btnRolling__oxgic"}},9197:function(e){e.exports={container:"GamePage_container__IujHP",upper_container:"GamePage_upper_container__PxaSC",lower_container:"GamePage_lower_container__HigR6",infobar:"GamePage_infobar__TXuT0",cam:"GamePage_cam__C0ix3",btnRolling:"GamePage_btnRolling__GNSZN"}}},function(e){e.O(0,[812,154,894,774,888,179],function(){return e(e.s=99)}),_N_E=e.O()}]);