(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{4184:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0!==(n=(function(){return r}).apply(t,[]))&&(e.exports=n)}()},2936:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/enter/room",function(){return n(6555)}])},5799:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(5893),r=n(7294),i=[{title:"즐거운 게임을 위한 TIP!",pic:"/tip1.png",txt1:"카메라 ON 모드로 입장하면",txt2:"다양한 사람들의 표정을 즐길 수 있어요"},{title:"즐거운 게임을 위한 TIP!",pic:"/tip2.png",txt1:"불쾌감을 유발하는 언행을 하면",txt2:"강제 퇴장 당할 수 있음에 유의하세요"},{title:"즐거운 게임을 위한 TIP!",pic:"/tip3.png",txt1:"미니게임 ON/OFF를 통해",txt2:"모두의 포차차를 다채롭게 즐겨보세요"},{title:"즐거운 게임을 위한 TIP!",pic:"/tip4.png",txt1:"메뉴판으로 여러분이 좋아하는",txt2:"다양한 음식을 즐겨보세요."}],s=n(6217),o=n.n(s);function c(){let[e,t]=(0,r.useState)(0),n=i[e];return(0,a.jsxs)("div",{className:o().innerBox,children:[(0,a.jsx)("div",{className:o().tipTitle,children:n.title}),(0,a.jsxs)("div",{className:o().tipContainer,children:[(0,a.jsx)("button",{onClick:()=>{t(e=>0===e?i.length-1:e-1)},children:(0,a.jsx)("img",{className:o().arrow,src:"/main/leftArrow.png "})}),(0,a.jsxs)("div",{className:o().tipContent,children:[(0,a.jsx)("img",{src:n.pic}),(0,a.jsx)("p",{children:n.txt1}),(0,a.jsx)("p",{children:n.txt2})]}),(0,a.jsx)("button",{onClick:()=>{t(e=>e===i.length-1?0:e+1)},children:(0,a.jsx)("img",{className:o().arrow,src:"/main/rightArrow.png "})})]})]})}},6555:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(5893),r=n(7294),i=n(1163),s=n(5799),o=n(6217),c=n.n(o),l=n(4184),p=n.n(l),d=n(6154),u=n(8e3),g=n.n(u),_=n(4593),h=n(1649),x=n(5019),m=n(5989);function f(){let e=(0,i.useRouter)(),t=(0,h.I0)(),n=e.query.roomId;console.log("쿼리 스트링 파싱"),console.log(n),(0,r.useEffect)(()=>{let e=new(g())("https://ohogame.shop/ws"),t=_.L.over(e);t.connect({},()=>{console.log("Socket Connected.")})},[]);let o={},l=(0,r.useRef)(null),u=()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{let t=l.current;t.srcObject=e,t.play()}).catch(t=>{t.response?e.push({pathname:"/exception",query:{msg:t.response.data}}):console.log(t)})};(0,r.useEffect)(()=>{u()},[l]);let[f,v]=(0,r.useState)(""),j=()=>{(0,d.Z)({url:"https://ohogame.shop/api/player/create",header:{Accept:"application/json","Content-type":"application/json;charset=UTF-8"},method:"POST",data:{nickname:f,roomId:n}}).then(a=>{console.log("GAME START"),console.log("response.data",a.data),o={roomId:n,progress:!1,secret:!1,nick:f||a.data.nickname,playerId:a.data.id,ready:a.data.ready};let r={playerId:a.data.id,nick:f||a.data.nickname,ready:a.data.ready,head:!1};t((0,x.el)({roomId:n,progress:!1,secret:!1})),t((0,m.lL)(r)),e.push({pathname:"/room/".concat(n),query:{currentName:JSON.stringify(o)}})}).catch(t=>{t.response&&e.push({pathname:"/exception",query:{msg:t.response.data}})})};return(0,a.jsxs)("div",{className:c().container,children:[(0,a.jsx)("div",{className:"roof",children:(0,a.jsx)("img",{className:c().title,src:"/main/title.png"})}),(0,a.jsxs)("div",{className:c().boxContainer,children:[(0,a.jsxs)("div",{className:p()({[c().box]:!0,[c().leftBox]:!0}),children:[(0,a.jsx)("h3",{style:{paddingTop:"0",marginBottom:"10px"},children:"초대 코드로 입장하셨습니다"}),(0,a.jsx)("video",{className:c().cam,ref:l})," ",(0,a.jsx)("div",{className:c().inputContainer,children:(0,a.jsx)("input",{className:c().nickname,spellCheck:"false",placeholder:"닉네임을 입력해주세요.",value:f,onChange:e=>{v(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&j()}})}),(0,a.jsx)("button",{className:c().startContainer,onClick:j,children:(0,a.jsx)("img",{className:c().startBtn,src:"/main/startBtn.png"})})]}),(0,a.jsx)("div",{className:c().box,children:(0,a.jsx)(s.default,{})})]})]})}},6217:function(e){e.exports={container:"EnterPage_container___dvdZ",title:"EnterPage_title__VoPCb",boxContainer:"EnterPage_boxContainer__Vc5Sx",box:"EnterPage_box__6qLrU",leftBox:"EnterPage_leftBox__Ls28V",cam:"EnterPage_cam__WcSXz",inputContainer:"EnterPage_inputContainer__8KCUW",nickname:"EnterPage_nickname__57Zbv",startContainer:"EnterPage_startContainer__ZFMXC",startBtn:"EnterPage_startBtn__nhgW9",innerBox:"EnterPage_innerBox__QG1xT",tipTitle:"EnterPage_tipTitle__Lhrbs",tipContainer:"EnterPage_tipContainer__VJ1iP",tipContent:"EnterPage_tipContent__Cmtv4",arrow:"EnterPage_arrow__b_VQg"}}},function(e){e.O(0,[0,154,593,774,888,179],function(){return e(e.s=2936)}),_N_E=e.O()}]);