(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{5997:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room/[id]/RoomCam",function(){return a(6788)}])},7337:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return s}});var o=a(5893),t=a(7294);function s(e){let n=e.streamManager,a=(0,t.useRef)(null);return navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{a.current.srcObject=e}).catch(e=>{e.response?router.push({pathname:"/exception",query:{msg:e.response.data}}):console.log(e)}),(0,t.useEffect)(()=>{n&&!a&&n.addVideoElement(a.current)},[a]),(0,o.jsxs)("span",{children:[(0,o.jsx)("video",{autoPlay:!0,ref:a}),";"]})}},6788:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return l}});var o=a(5893),t=a(7294),s=a(7337),c=a(1649),r=a(9255),i=a.n(r),m=a(4533),_=a.n(m);function l(e){let[n,a]=(0,t.useState)("");console.log("룸캠 렌더링");let r=(0,c.v9)(e=>e.room.currentRoomId),m=(0,c.v9)(e=>e.player.currentNick),l=e.publisher,u=e.participants;return console.log(l),console.log(u),(0,o.jsx)("div",{className:"container",children:void 0!==r?(0,o.jsx)("div",{id:"session",children:(0,o.jsxs)("div",{id:"video-container",className:i().camList,children:[void 0!==l?(0,o.jsxs)("span",{className:_().streamcomponent,children:[(0,o.jsx)(s.default,{className:i().cam,streamManager:l}),(0,o.jsx)("div",{className:_().nickname,children:m})]}):null,u.map((e,n)=>(0,o.jsxs)("span",{className:_().streamcomponent,children:[console.log(JSON.parse(e.stream.connection.data.split("%")[0]).clientData),(0,o.jsx)(s.default,{className:i().cam,streamManager:e}),(0,o.jsx)("div",{className:_().nickname,children:JSON.parse(e.stream.connection.data.split("%")[0]).clientData})]},e.id))]})}):null})}},9255:function(e){e.exports={container:"RoomPage_container__nrifP",room:"RoomPage_room__jZJqd",camList:"RoomPage_camList__pr94X",cam:"RoomPage_cam__bKlCM",chatContainer:"RoomPage_chatContainer__Hlg7I",outerChat:"RoomPage_outerChat__j4Ee0",innerChat:"RoomPage_innerChat__ZniE2",chatUnit:"RoomPage_chatUnit__9sfcL",sender:"RoomPage_sender__9HCU2",time:"RoomPage_time__4KvWW",message:"RoomPage_message__3J_1w",chatArea:"RoomPage_chatArea__njIvi",chatInput:"RoomPage_chatInput__xkHum",sendBtn:"RoomPage_sendBtn__836RZ"}},4533:function(e){e.exports={streamcomponent:"UserVideo_streamcomponent__72vDQ",nickname:"UserVideo_nickname__IX3Tw"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5997)}),_N_E=e.O()}]);